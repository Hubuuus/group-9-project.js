!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=n.parcelRequired89d;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){r[e]=n},n.parcelRequired89d=a);var i=a("bpxeT"),o=a("2TvXO"),c=a("dIxxU");var u=a("l1Gdk");var s=a("2KQYL"),d=document.querySelector(".Gallery"),l="28e7de8a02a020e11a900cecedfaedb8",f=document.querySelector(".SearchInput");var p,v=(p=e(i)(e(o).mark((function n(){var t;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,c.default.get("https://api.themoviedb.org/3/trending/movie/day",{params:{api_key:l}}).then((function(e){return e})).catch((function(e){console.log(e)}));case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),n)}))),function(){return p.apply(this,arguments)});f.addEventListener("input",e(u)(function(){var n=e(i)(e(o).mark((function n(t){var r;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r=f.value.trim(),h(r);case 3:case"end":return e.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),1e3));var h=function(){var n=e(i)(e(o).mark((function n(t,r){var a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.themoviedb.org/3/search/movie",e.next=3,c.default.get("https://api.themoviedb.org/3/search/movie",{params:{api_key:l,query:t,page:r}}).then((function(e){return m(e),e})).catch((function(e){console.log(e)}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();function m(e){d.innerHTML="";var n=e.data.results;g().then((function(e){y(n,e)}))}var g=function(){var n=e(i)(e(o).mark((function n(){var t;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.themoviedb.org/3/genre/movie/list",e.next=3,c.default.get("https://api.themoviedb.org/3/genre/movie/list",{params:{api_key:l}}).then((function(e){return e.data.genres})).catch((function(e){console.log(e)}));case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();function y(e,n){e.map((function(e){var t,r,a;!function(e,n){var t="https://image.tmdb.org/t/p/w500".concat(e.poster_path);d.insertAdjacentHTML("beforeend",' <div class="MovieCard" id="'.concat(e.id,'">\n        <img src="').concat(t,'" alt="').concat(e.title,'" loading="lazy" /> \n        <div class="MovieCardInfo">\n          <p class="MovieCardData">\n            <span class="MovieCardTitle">').concat(e.title,'\n          </span>\n           "').concat(n.splice(0,3).join(", "),'" | ').concat(e.release_date.slice(0,4),"\n          </p>\n        </div>\n      </div>"));var r=document.querySelectorAll(".MovieCard"),a=!0,i=!1,o=void 0;try{for(var c,u=r[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){c.value.addEventListener("click",(function(){this.id}))}}catch(e){i=!0,o=e}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}r.forEach((function(e){return e.addEventListener("click",s.toggleHidden)})),r.forEach((function(e){return e.addEventListener("click",(function(e){return(0,s.activeFetch)(e)}))}))}(e,(t=e.genre_ids,r=n,a=[],t.forEach((function(e){var n=r.find((function(n){return n.id===e})).name;void 0!==n&&a.push(n)})),a))}))}document.addEventListener("DOMContentLoaded",void g().then((function(e){var n=e;v().then((function(e){y(e.data.results,n)}))})))}();
//# sourceMappingURL=index.40a11a5f.js.map
