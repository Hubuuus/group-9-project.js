{"mappings":"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","sources":["src/models/fetch-functions.js","src/models/present-movies.js"],"sourcesContent":["import axios from 'axios';\nimport { presentMovies } from './present-movies';\nimport debounce from 'lodash.debounce';\n\nconst DEBOUNCE_DELAY = 500;\nconst API_KEY = '28e7de8a02a020e11a900cecedfaedb8';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nexport const gallery = document.querySelector('.Gallery');\nconst inputMovie = document.querySelector('.SearchInput');\n\nlet page = 1;\n\ninputMovie.addEventListener('input', debounce( async event => {\n  event.preventDefault();\n\n  // const title = event.target.value.trim();\n  const title = inputMovie.value.trim();\n\n  fetchSearchedMovies(title);\n}, DEBOUNCE_DELAY));\n\nexport const fetchSearchedMovies = async (input, page = 1) => {\n\n  const urlSearchedMovies = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${input}&page=${page}`;\n\n  const response = await axios\n    .get(urlSearchedMovies)\n    .then((response) => {\n      galleryOfMovies(response);\n\n      // console.log(response);\n      return response;\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n\n  console.log('Response', response);\n  return response;\n};\n\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\n\nfunction galleryOfMovies(response) {\n  clearGallery();\n  // console.log('RRRR', response.data.results);\n  const searched = response.data.results;\n  getGenres().then(item => {\n    const genres = item;\n    createCards(searched);\n  });\n\n  function createCards(movie) {\n    movie.map(item => {\n      // const genresName = nameOfGenres(movie, genres);\n      movieCard(item);\n    });\n  }\n\n  // function nameOfGenres(movie, genres) {\n  //   return genres.reduce((accumulator, item) => {\n  //     if (movie.genre_ids.includes(item.id)) {\n  //       accumulator.push(item.name);\n  //     }\n  //     return accumulator;\n  //   }, []);\n  // } \n\n}\n\n\n\nfunction movieCard(movie) {\n  let poster = `https://image.tmdb.org/t/p/w500${movie.poster_path}`;\n  // let genresName =  nameOfGenres(movie, genres);\n  gallery.insertAdjacentHTML(\n    'beforeend',\n    ` <div class=\"MovieCard\" id=\"${movie.id}\">\n        <img src=\"${poster}\" alt=\"${movie.title}\" loading=\"lazy\" /> \n        <div class=\"MovieCardInfo\">\n          <p class=\"MovieCardData\">\n            <span class=\"MovieCardTitle\">${movie.title}\n          </span>\n           \"//$//{genresName}\" | ${movie.release_date.slice(0,4)}\n          </p>\n        </div>\n      </div>`\n  );\n}\n\nexport const fetchPopularMovies = async () => {\n  const urlPopularMovies = `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}&page=1`;\n\n  const response = await axios\n    .get(urlPopularMovies)\n    .then(function (response) {\n      return response;\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n\n  return response;\n};\n\nexport const getGenres = async () => {\n  const urlGenres = `https://api.themoviedb.org/3/genre/movie/list?api_key=${API_KEY}`;\n \n  const response = await axios\n    .get(urlGenres)\n    .then(function (response) {\n      return response.data.genres;\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n\n  return response;\n};\n\nexport const getDetails = async movie_id => {\n  const urlInfo = `https://api.themoviedb.org/3/movie/${movie_id}?api_key=${API_KEY}&language=en-US`;\n\n  const response = await axios\n    .get(urlInfo)\n    .then(function (response) {\n      console.log(response.data);\n      return response.data;\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n\n  return response;\n};\n\ndocument.addEventListener('DOMContentLoaded', presentMovies());","import { fetchPopularMovies } from \"./fetch-functions\";\nimport { getGenres } from \"./fetch-functions\";\nimport { galleryCard } from \"./create-movie-card\";\nimport { gallery } from \"./fetch-functions\";\n\nexport function presentMovies(){\n\n  getGenres().then(item => {\n    const genres = item;\n    console.log(genres);\n  \n    fetchPopularMovies().then(result => {\n        const popular = result.data.results;\n        console.log(result.data.results);\n        createCards(popular, genres);\n    });\n  });\n  \n  function createCards(movies, genres){\n    movies.map(movie => {\n    const genresName = nameOfGenres(movie, genres);\n    galleryCard(movie, genresName);\n    });\n  }\n  \n  function nameOfGenres(movie, genres) {\n      return genres.reduce((accumulator, item) => {\n        if (movie.genre_ids.includes(item.id)) {\n          accumulator.push(item.name);\n        }\n        return accumulator;\n      }, []);\n    }\n}\n\n// document.addEventListener('DOMContentLoaded', presentMovies());"],"names":["$bpxeT","parcelRequire","$3803c7cc153b9ece$var$API_KEY","$3803c7cc153b9ece$export$b21c1b4271bdbe93","document","querySelector","$3803c7cc153b9ece$var$inputMovie","addEventListener","$parcel$interopDefault","$l1Gdk","$2TvXO","mark","_callee","event","title","preventDefault","value","trim","$3803c7cc153b9ece$export$5a3232bc12c1888e","input","page1","urlSearchedMovies","response1","_args","arguments","length","concat","$dIxxU","default","get","then","response","$3803c7cc153b9ece$var$galleryOfMovies","catch","error","console","log","_ctx","sent","innerHTML","searched","data","results","$3803c7cc153b9ece$export$c5604fa8028da00","item","map","movie","poster","poster_path","insertAdjacentHTML","id","release_date","slice","$3803c7cc153b9ece$var$movieCard","$3803c7cc153b9ece$export$225b489b0d997c20","urlPopularMovies","response2","urlGenres","response3","genres","movie_id","urlInfo","response4","result","popular","movies","genresName","reduce","accumulator","genre_ids","includes","push","name","nameOfGenres","$eKj0a","galleryCard","createCards"],"version":3,"file":"index.925252fe.js.map"}