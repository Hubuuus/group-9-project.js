{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SCAA,MAAMC,EAAUC,SAASC,cAAc,YCGhBD,SAASC,cAAc,YFIlCD,SAASC,cAAc,iBAE5B,MAqBMC,EAAqBC,eAGTN,EAAAO,QACpBC,IAHsB,mGAItBC,MAAK,SAAUC,GACd,OAAOA,C,IAERC,OAAM,SAAUC,GACfC,QAAQC,IAAIF,E,IAMLG,EAAYT,eAGAN,EAAAO,QACpBC,IAHe,0FAIfC,MAAK,SAAUC,GACd,OAAOA,EAASM,KAAKC,M,IAEtBN,OAAM,SAAUC,GACfC,QAAQC,IAAIF,E,IAsBFT,SAASC,cAAc,YAEvCD,SAASe,iBAAiB,wBEvExBH,IAAYN,MAAKU,IACf,MAAMF,EAASE,EACfN,QAAQC,IAAIG,GAEZZ,IAAqBI,MAAKW,IACtB,MAAMC,EAAUD,EAAOJ,KAAKM,QAC5BT,QAAQC,IAAIM,EAAOJ,KAAKM,SAK9B,SAAqBC,EAAQN,GAC3BM,EAAOC,KAAIC,IACX,MAAMC,EAKR,SAAsBD,EAAOR,GACzB,OAAOA,EAAOU,QAAO,CAACC,EAAaT,KAC7BM,EAAMI,UAAUC,SAASX,EAAKY,KAChCH,EAAYI,KAAKb,EAAKc,MAEjBL,IACN,G,CAXcM,CAAaT,EAAOR,IDlBpC,SAAqBQ,EAAOC,GACjC,IAAIS,EAAS,kCAAkCV,EAAMW,cACrDlC,EAAQmC,mBACN,YACA,gCAAgCZ,EAAMM,2BACtBI,WAAgBV,EAAMa,0JAGIb,EAAMa,wCAEvCZ,OAAgBD,EAAMc,aAAaC,MAAM,EAAE,mD,CCSpD,CAAYf,EAAOC,EAAW,G,CAP1Be,CAAYpB,EAASJ,EAAO,GAC9B","sources":["src/models/fetch-functions.js","src/models/create-movie-card.js","src/models/present-movies.js"],"sourcesContent":["import axios from 'axios';\nimport { presentMovies } from \"./present-movies\";\n\nconst API_KEY = '28e7de8a02a020e11a900cecedfaedb8';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nlet input = document.querySelector('.search-input');\n\nexport const fetchSearchedMovies = async () => {\n  const urlSearchedMovies = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${input}&page=1`;\n\n  const response = await axios\n  .get(urlSearchedMovies)\n  .then(function (response) {\n    // getGenres().then(item => {\n    //   const genres = item;\n    //   createCards(response.data.results, genres);\n    // })\n    // pagination function\n    return response;\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n\nreturn response;\n};\n\n\nexport const fetchPopularMovies = async () => {\n  const urlPopularMovies = `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}&page=1`;\n\n  const response = await axios\n    .get(urlPopularMovies)\n    .then(function (response) {\n      return response;\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n\n  return response;\n};\n\nexport const getGenres = async () => {\n  const urlGenres = `https://api.themoviedb.org/3/genre/movie/list?api_key=${API_KEY}`;\n \n  const response = await axios\n    .get(urlGenres)\n    .then(function (response) {\n      return response.data.genres;\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n\n  return response;\n};\n\nexport const getDetails = async movie_id => {\n  const urlInfo = `https://api.themoviedb.org/3/movie/${movie_id}?api_key=${API_KEY}&language=en-US`;\n\n  const response = await axios\n    .get(urlInfo)\n    .then(function (response) {\n      console.log(response.data);\n      return response.data;\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n\n  return response;\n};\n\nconst gallery = document.querySelector('.gallery');\n\ndocument.addEventListener('DOMContentLoaded', presentMovies());","const gallery = document.querySelector('.gallery');\n\nexport function galleryCard(movie, genresName) {\n  let poster = `https://image.tmdb.org/t/p/w500${movie.poster_path}`;\n  gallery.insertAdjacentHTML(\n    'beforeend',\n    ` <div class=\"movie-card\" id=\"${movie.id}\">\n        <img src=\"${poster}\" alt=\"${movie.title}\" loading=\"lazy\" /> \n        <div class=\"movie-card__info\">\n          <p class=\"movie-card__data\">\n            <span class=\"movie-card__title\">${movie.title}\n          </span>\n           ${genresName} | ${movie.release_date.slice(0,4)}\n          </p>\n        </div>\n      </div>`\n  );\n}","import { fetchPopularMovies } from \"./fetch-functions\";\nimport { getGenres } from \"./fetch-functions\";\nimport { galleryCard } from \"./create-movie-card\";\nexport const gallery = document.querySelector('.gallery');\n\nexport function presentMovies(){\n\n  getGenres().then(item => {\n    const genres = item;\n    console.log(genres);\n  \n    fetchPopularMovies().then(result => {\n        const popular = result.data.results;\n        console.log(result.data.results);\n        createCards(popular, genres);\n    });\n  });\n  \n  function createCards(movies, genres){\n    movies.map(movie => {\n    const genresName = nameOfGenres(movie, genres);\n    galleryCard(movie, genresName);\n    });\n  }\n  \n  function nameOfGenres(movie, genres) {\n      return genres.reduce((accumulator, item) => {\n        if (movie.genre_ids.includes(item.id)) {\n          accumulator.push(item.name);\n        }\n        return accumulator;\n      }, []);\n    }\n}"],"names":["$2shzp","parcelRequire","$862a36ecf8393f64$var$gallery","document","querySelector","$b8c63253da9a1211$export$225b489b0d997c20","async","default","get","then","response","catch","error","console","log","$b8c63253da9a1211$export$c5604fa8028da00","data","genres","addEventListener","item","result","popular","results","movies","map","movie","genresName","reduce","accumulator","genre_ids","includes","id","push","name","nameOfGenres","poster","poster_path","insertAdjacentHTML","title","release_date","slice","createCards"],"version":3,"file":"index.66c3aaf9.js.map"}