!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired89d;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired89d=a);var o=a("bpxeT"),i=a("2TvXO"),c=a("dIxxU");function s(e){P().then((function(t){var n=t;document.querySelector(".Gallery").innerHTML="",D(e).then((function(e){S(e.data.results,n)}))}))}var u=a("l1Gdk");var d=a("6JpON");function l(){d.Loading.circle("Loading ...",{svgColor:"#ff6b08"})}d=a("6JpON");var f=document.querySelector(".Gallery"),v="28e7de8a02a020e11a900cecedfaedb8",p=document.querySelector(".SearchInput"),m=document.querySelector('[data-header="alert"]'),h=document.getElementById("Next-Button"),g=document.getElementById("Prev-Button"),b=document.getElementById("Pagination-Numbers"),y=1;var L=document.querySelector(".NavPageMyLibrary"),w=document.querySelector(".Pagination-Container");L.addEventListener("click",(function(){w.classList.add("hidden")}));var x=function(e){e.classList.add("Disabled"),e.setAttribute("Disabled",!0)},k=function(e){e.classList.remove("Disabled"),e.removeAttribute("Disabled")},B=function(e,t){1===e?x(g):k(g),e===t?x(h):k(h)},E=function(e){document.querySelectorAll(".Nr-Button").forEach((function(e){e.classList.remove("Pagination-Btn--Active")})),document.querySelectorAll(".Nr-Button").forEach((function(t){Number(t.textContent)==e&&t.classList.add("Pagination-Btn--Active")}))},M=function(){b.insertAdjacentHTML("beforeend",'\n      <button class="Pagination-Btn Pagination-Btn__Dots" id="Nr-Button">\n      ...\n      </button>\n    ')},_=function(e){var t=e===y?"Pagination-Btn--Active":"";b.insertAdjacentHTML("beforeend",'\n      <button class="Pagination-Btn Nr-Button '.concat(t,'" id="Nr-Button" >\n      ').concat(e,"\n      </button>\n    "))},N=function(e,t){if(b.innerHTML="",window.innerWidth<768){if(t>=5)if(e<=3){for(var n=1;n<=4;n++)_(n);M(),_(t)}else if(e>=t-5){_(1),M();for(var r=t-6;r<=t;r++)_(r)}else{_(1),M();for(var a=e-1;a<=e+1;a++)_(a);M(),_(t)}else if(t<9)for(var o=1;o<=t;o++)_(o)}else if(t>=9)if(e<=5){for(var i=1;i<=7;i++)_(i);M(),_(t)}else if(e>t-5){_(1),M();for(var c=t-6;c<=t;c++)_(c)}else{_(1),M();for(var s=e-2;s<=e+2;s++)_(s);M(),_(t)}else if(t<7)for(var u=1;u<=t;u++)_(u)};window.addEventListener("load",(function(){B(1),N(1,100),E(y),h.addEventListener("click",(function(e){e.preventDefault(),s(++y),B(y),N(y),E(y),window.scrollTo({top:0,behavior:"smooth"})})),g.addEventListener("click",(function(e){e.preventDefault(),s(--y),B(y),N(y),E(y),window.scrollTo({top:0,behavior:"smooth"})})),b.addEventListener("click",(function(e){if(e.target.classList.contains("Nr-Button")){var t=Number(e.target.textContent);t!==y&&(y=t,""!==p.value?(console.log("inputxxx"),A(q,y)):(s(y),B(y),N(y),E(y),window.scrollTo({top:0,behavior:"smooth"})))}}))}));var T,D=(T=e(o)(e(i).mark((function t(n){var r;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),e.next=4,c.default.get("https://api.themoviedb.org/3/trending/movie/day",{params:{api_key:v,page:n}}).then((function(e){var t=e.data.total_pages/10;return N(y,t),B(y,t),e})).catch((function(e){console.log(e)}));case 4:return r=e.sent,d.Loading.remove(500),e.abrupt("return",r);case 7:case"end":return e.stop()}}),t)}))),function(e){return T.apply(this,arguments)});p.addEventListener("keypress",(function(e){"Enter"===e.key&&e.preventDefault()}));var q="";p.addEventListener("input",e(u)(function(){var t=e(o)(e(i).mark((function t(n){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!=p.value){e.next=5;break}return e.abrupt("return",location.reload());case 5:return q=n.target.value.trim(),console.log("title",q),y=1,A(q),e.abrupt("return",q);case 10:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),1e3));var A=function(){var t=e(o)(e(i).mark((function t(n,r){var a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.themoviedb.org/3/search/movie",e.next=3,c.default.get("https://api.themoviedb.org/3/search/movie",{params:{api_key:v,query:n,page:r}}).then((function(e){1===y&&d.Notify.success("We found ".concat(e.data.total_results," movies!")),l();var t=0;return t=e.data.total_results%20==0?e.data.total_results/20:Math.ceil(e.data.total_results/20),C(e),N(y,t),B(y,t),m.classList.add("hidden"),0===e.data.results.length&&m.classList.remove("hidden"),d.Loading.remove(500),e})).catch((function(){console.log("error")}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();function C(e){f.innerHTML="";var t=e.data.results;P().then((function(e){S(t,e)}))}var P=function(){var t=e(o)(e(i).mark((function t(){var n;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.themoviedb.org/3/genre/movie/list",e.next=3,c.default.get("https://api.themoviedb.org/3/genre/movie/list",{params:{api_key:v}}).then((function(e){return e.data.genres})).catch((function(e){console.log(e)}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function S(e,t){e.map((function(e){var n,r,a;!function(e,t){var n="https://image.tmdb.org/t/p/w500".concat(e.poster_path);f.insertAdjacentHTML("beforeend",' <div class="MovieCard" id="'.concat(e.id,'">\n        <img src="').concat(n,'" <img class ="MoviePoster" src="').concat(n,'" \n        onerror="this.src=\'https://ik.imagekit.io/paulinas/noTMDBposter.jpg?ik-sdk-version=javascript-1.4.3&updatedAt=1676735394520\'" \n        alt="').concat(e.title,'" loading="lazy" /> \n        <div class="MovieCardInfo">\n          <p class="MovieCardData">\n            <span class="MovieCardTitle dark-mode">').concat(e.title,"\n          </span>\n           ").concat(t.splice(0,3).join(", ")," | ").concat(e.release_date.slice(0,4),"\n          </p>\n        </div>\n      </div>"));var r=document.querySelectorAll(".MovieCard"),a=!0,o=!1,i=void 0;try{for(var c,s=r[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){c.value.addEventListener("click",(function(){movieId=this.id}))}}catch(e){o=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}}(e,(n=e.genre_ids,r=t,a=[],n.forEach((function(e){var t=r.find((function(t){return t.id===e})).name;void 0!==t&&a.push(t)})),a))}))}document.addEventListener("DOMContentLoaded",s())}();
//# sourceMappingURL=index.433fcdea.js.map
